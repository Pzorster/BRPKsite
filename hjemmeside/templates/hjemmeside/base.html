{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Load Ubuntu font-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" type="text/css" href="{% static 'hjemmeside/base.css' %}">
    {% block specific_css %}{% endblock %}
    
    <title>Bergen Parkour</title>

</head>

<body>

    <header id="top">

        <nav class="main-nav">
            {% for item in menu_items %}
                {% if item.has_dropdown %}
                    <div class="dropdown">
                        <a href="#" class="nav-item">
                            {{ item.name }} ▼
                        </a>
                        <div class="dropdown-menu">
                            {% for dropdown_item in item.dropdown_items %}
                                {% if dropdown_item.anchor %}
                                    <a href="{{ dropdown_item.url}}#{{ dropdown_item.anchor }}" class="dropdown-item">
                                        {{ dropdown_item.name }}
                                    </a>
                                {% else %}
                                    <a href="{% url dropdown_item.url %}" class="dropdown-item {% if request.resolver_match.url_name == dropdown_item.url %}active{% endif %}">
                                        {{ dropdown_item.name }}
                                    </a>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                
                {% elif item.anchor %}
                        <a href="{{ item.url}}#{{ item.anchor }}" class="nav-item">
                        {{ item.name }}
                    </a>

                {% else %}
                    <a href="{% url item.url %}" class="nav-item {% if request.resolver_match.url_name == item.url %}active{% endif %}">
                        {{ item.name }}
                    </a>
                {% endif %}
            {% endfor %}
        </nav>
        
        <div class="logo">
            BERGEN PARKOUR
        </div>
        
        <div class="social-links">
            <a href="{% url 'facebook' %}" class="social-link">
                <img src="{% static 'images/facebook-icon.png' %}" alt="Face" class="social-icon">
            </a> <!-- Facebook -->
            <a href="{% url 'instagram' %}" class="social-link">
                <img src="{% static 'images/instagram-icon.png' %}" alt="Insta" class="social-icon">
            </a> <!-- Instagram -->
        </div>
        
        <div class="menu-button"></div>

    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer>
        <a href="#top" class="back-to-top">Til toppen ▲</a>
        <div class="forening-info">
            <p>{{ footer_info.organisasjon_navn }}, Org. nr: {{ footer_info.organisasjon_nummer }}</p>
            <p>{{ footer_info.adresse }}, {{ footer_info.post_nummer }}</p>
            <p>Mail: {{ footer_info.kontakt_mail }}, Tlf: {{ footer_info.kontakt_tlf }}</p>
        </div>                
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Clone social links on page load (hidden)
            const socialLinks = document.querySelector('.social-links');
            const clonedSocial = socialLinks.cloneNode(true);
            clonedSocial.classList.add('mobile-social');
            clonedSocial.style.display = 'none';
            document.querySelector('.main-nav').appendChild(clonedSocial);

            // Hamburger click toggle
            document.querySelector('.menu-button').addEventListener('click', function() {
                document.querySelector('.main-nav').classList.toggle('mobile');
                
                const mobileSocial = document.querySelector('.mobile-social');
                if (mobileSocial.style.display === 'none') {
                    mobileSocial.style.display = 'block';
                } else {
                    mobileSocial.style.display = 'none';
                }
            });
            
            // Remove mobile class on resize to desktop
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    document.querySelector('.main-nav').classList.remove('mobile');
                    document.querySelector('.mobile-social').style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>